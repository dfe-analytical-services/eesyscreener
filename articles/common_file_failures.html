<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-GB">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Common file failures • eesyscreener</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Common file failures">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">eesyscreener</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.2</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../articles/eesyscreener.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/assumptions_in_checks.html">Assumptions in checks</a></li>
    <li><a class="dropdown-item" href="../articles/common_file_failures.html">Common file failures</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/dfe-analytical-services/eesyscreener/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Common file failures</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/dfe-analytical-services/eesyscreener/blob/v0.1.5/vignettes/common_file_failures.Rmd" class="external-link"><code>vignettes/common_file_failures.Rmd</code></a></small>
      <div class="d-none name"><code>common_file_failures.Rmd</code></div>
    </div>

    
    
<p>A guide to common issues with files that trip up analysts, providing
further information and supporting code to aid in debugging problems
within data files.</p>
<p>If your issue is not covered on here, please contact <a href="mailto:explore.statistics@education.gov.uk" class="email">explore.statistics@education.gov.uk</a> for
assistance.</p>
<div class="section level2">
<h2 id="duplicate-rows">Duplicate rows<a class="anchor" aria-label="anchor" href="#duplicate-rows"></a>
</h2>
<p>If you have duplicate rows in your file, this check will have picked
it up, so check for that first. If you still think you have no duplicate
rows, then read on.</p>
<p>The accuracy of this check has been questioned by many, many analysts
over the years. Without fail, it has prevailed, exposing case after case
of duplication. So, leave your indignation at the door, and accept this
help to find your duplicate rows.</p>
<p>The <code>check_data_duplicate_rows()</code> function checks for
duplicate rows across the time, geography and filter columns. This is to
make sure that there is only one possible value for any combination of
categories per indicator.</p>
<p>An example table that does not have duplicate rows overall, but fails
the <code>check_data_duplicate_rows()</code> function:</p>
<pre><code><span><span class="co">#&gt;   time_period time_identifier geographic_level country_code country_name</span></span>
<span><span class="co">#&gt; 1        2020   Calendar year         National    E92000001      England</span></span>
<span><span class="co">#&gt; 2        2020   Calendar year         National    E92000001      England</span></span>
<span><span class="co">#&gt;   school_count</span></span>
<span><span class="co">#&gt; 1           10</span></span>
<span><span class="co">#&gt; 2           20</span></span></code></pre>
<p>This kind of file causes a big issue for users, as they don’t know
which value is the real value, leading to confusion and risk of
misrepresentation.</p>
<p>First thing you should check in this case is that your metadata file
is properly set up, if you’ve not assigned filters and indicators
properly this can easily lead to the site thinking you have duplicate
rows.</p>
<p>Assuming all else looks okay, the final route is to find the
duplicates like this in your file and inspect them to spot what the
issue might be, use the … argument in the … function, like below.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"></code></pre></div>
</div>
<div class="section level2">
<h2 id="pound-symbols">Pound symbols<a class="anchor" aria-label="anchor" href="#pound-symbols"></a>
</h2>
<p>…</p>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Cam Race.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
