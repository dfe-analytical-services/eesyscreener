<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-GB">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Assumptions in checks • eesyscreener</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Assumptions in checks">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">eesyscreener</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../articles/eesyscreener.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/assumptions_in_checks.html">Assumptions in checks</a></li>
    <li><a class="dropdown-item" href="../articles/common_file_failures.html">Common file failures</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/dfe-analytical-services/eesyscreener/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Assumptions in checks</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/dfe-analytical-services/eesyscreener/blob/main/vignettes/assumptions_in_checks.Rmd" class="external-link"><code>vignettes/assumptions_in_checks.Rmd</code></a></small>
      <div class="d-none name"><code>assumptions_in_checks.Rmd</code></div>
    </div>

    
    
<p>This vignette is mostly aimed at package developers, though will be
useful for anyone who wants to use any of the individual
<code>precheck_*()</code> or <code>check_*()</code> functions in
isolation.</p>
<p>If you are the latter, using any checks individually outside of a
<code>screen_*()</code> wrapper function, proceed with caution and read
this article first.</p>
<div class="section level2">
<h2 id="what-assumptions">What assumptions?<a class="anchor" aria-label="anchor" href="#what-assumptions"></a>
</h2>
<ol style="list-style-type: decimal">
<li>Only the <code>screen_*()</code> functions have argument
validation</li>
</ol>
<p>At the time the package was first developed there were already 90+
checks in the screener. It would be inefficient to revalidate the
arguments in every check, for example checking that the datafile is a
data.frame 90+ times.</p>
<p>Therefore we only provide argument validation for the top level
<code>screen_*()</code> functions.</p>
<ol start="2" style="list-style-type: decimal">
<li>Within all of the the <code>screen_*()</code> functions, individual
checks are placed in a specific order, and broken up by stages.</li>
</ol>
<p>This means the tests can fail early, giving quicker feedback if
there’s fundamental issues, and also means the later checks can be more
lightweight and ‘assume’ certain things about the data.frame that is
being tested.</p>
<p>For example, <code><a href="../reference/precheck_meta_col_type.html">precheck_meta_col_type()</a></code> requires the
<code>col_type</code> column to be present, as this is already checked
for in <code><a href="../reference/precheck_col_req_meta.html">precheck_col_req_meta()</a></code> we minimise duplication that
check by not rechecking that column is present.</p>
</div>
<div class="section level2">
<h2 id="starting-assumptions">Starting assumptions<a class="anchor" aria-label="anchor" href="#starting-assumptions"></a>
</h2>
<ol style="list-style-type: decimal">
<li><p>Filename checks can be carried out in isolation from other
checks. The <code><a href="../reference/screen_filenames.html">screen_filenames()</a></code> function can be ran in a
single line on two simple strings where needed.</p></li>
<li><p>Mandatory columns are checked before anything else about the
files. Many of the other checks rely on assumptions that key columns
exist.</p></li>
<li><p>Metadata files are checked before data files, they are faster to
test and can give immediate feedback, plus they are crucial for
understanding and checking the data file, so we need to have a passing
metadata file before we can test the data file.</p></li>
</ol>
</div>
<div class="section level2">
<h2 id="precheck-versus-check">Precheck versus check<a class="anchor" aria-label="anchor" href="#precheck-versus-check"></a>
</h2>
<p>Most groups have a <code>precheck_*()</code> grouping,
e.g. <code>precheck_time_*()</code> and <code>check_time_*()</code>. If
the <code>precheck_*()</code> functions are not ran first, there is
every chance that you could get unexpected errors in the
<code>check_*()</code> functions.</p>
<p>For example</p>
<p>…</p>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Cam Race.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
